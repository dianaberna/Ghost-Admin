<section class="gh-canvas">
    <GhCanvasHeader class="gh-canvas-header">
        <h2 class="gh-canvas-title" data-test-screen-title>
            <LinkTo @route="settings.labs">{{t "Labs"}}</LinkTo>
            <span>{{svg-jar "arrow-right"}}</span>
            {{t "members.Members"}}
        </h2>
        <section class="view-actions">
            <GhTaskButton @buttonText={{t "taskButton.Save settings"}}
                @task={{this.saveSettings}}
                @successText={{t "taskButton.Saved"}}
                @runningText={{t "taskButton.Saving"}}
                @class="gh-btn gh-btn-blue gh-btn-icon"
                data-test-button="save-members-settings"
            />
        </section>
    </GhCanvasHeader>

    <section class="view-container settings-debug">

        {{#if this.session.user.isOwner}}
        <div class="flex flex-column br3 shadow-1 bg-grouped-table mt2 pa5">
            <div class="gh-setting-first gh-setting-last">
                <div class="gh-members-setting-content">
                    <div class="gh-setting-title">{{t "members.Enable members"}}</div>
                    <div class="gh-setting-desc">{{{t "members.Create registered members and take subscription payments â€” <a href=\"{link}\" target=\"_blank\" rel=\"noopener\">Find out more</a>" link="https://ghost.org/docs/members/"}}}</div>
                </div>
                <div class="gh-setting-action">
                    <div class="for-switch">
                        <GhFeatureFlag @flag="members" @testKey="enable-members"/>
                    </div>
                </div>
            </div>
        </div>

        <div class="gh-setting-liquid-section">
            {{#liquid-if this.feature.labs.members}}
            <GhMembersLabSetting
                @settings={{this.settings}}
                @fromAddress={{this.fromAddress}}
                @supportAddress={{this.supportAddress}}
                @setDefaultContentVisibility={{action "setDefaultContentVisibility"}}
                @setStripeConnectIntegrationTokenSetting={{action "setStripeConnectIntegrationTokenSetting"}}
                @setEmailAddress={{action "setEmailAddress"}}
            />
            {{/liquid-if}}
        </div>

        {{/if}}

    </section>
</section>