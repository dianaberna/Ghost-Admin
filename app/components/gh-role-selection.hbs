<div class="gh-roles-container" {{did-insert (perform this.fetchRolesTask)}}>
    {{#if this.fetchRolesTask.isRunning}}
        {{!-- width and height are needed to avoid layout shift after roles have loaded --}}
        <div style="width: 486px; height: 268px">
            <GhLoadingSpinner />
        </div>
    {{else}}
    <div class="gh-radio {{if (eq @selected.name "Contributor") "active"}}" {{on "click" (fn this.setRole "Contributor")}} data-test-option="Contributor">
        <div class="gh-radio-button"></div>
        <div class="gh-radio-content">
            <div class="gh-radio-label">{{t "settings.Contributor"}}</div>
            <div class="gh-radio-desc">{{t "settings.Can create and edit their own posts, but cannot publish. An Editor needs to approve and publish for them."}}</div>
        </div>
        <div>
            {{!-- Inner container collapses height to the SVG so popover can align correctly --}}
            <div>
                {{svg-jar "info"}}
                <EmberPopover @tooltipClass="popover" @arrowClass="popover-arrow" @side="left">
                    <table>
                        <tbody>
                            <tr>
                                <td class="left">{{t "settings.Settings"}}</td>
                                <td>{{t "settings.View and edit own profile"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Posts"}}</td>
                                <td>{{t "settings.Create and edit own draft posts"}}</td>
                            </tr>
                        </tbody>
                    </table>
                </EmberPopover>
            </div>
        </div>
    </div>

    <div class="gh-radio {{if (eq @selected.name "Author") "active"}}" {{on "click" (fn this.setRole "Author")}} data-test-option="Author">
        <div class="gh-radio-button"></div>
        <div class="gh-radio-content">
            <div class="gh-radio-label">{{t "settings.Author"}}</div>
            <div class="gh-radio-desc">{{t "settings.A trusted user who can create, edit and publish their own posts, but canâ€™t modify others."}}</div>
        </div>
        <div>
            {{!-- Inner container collapses height to the SVG so popover can align correctly --}}
            <div>
                {{svg-jar "info"}}
                <EmberPopover @tooltipClass="popover" @arrowClass="popover-arrow" @side="left">
                    <table>
                        <tbody>
                            <tr>
                                <td class="left">{{t "settings.Settings"}}</td>
                                <td>{{t "settings.View and edit own profile"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Users"}}</td>
                                <td>{{t "settings.Browse users"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Posts"}}</td>
                                <td>{{t "settings.View, edit and publish own posts, generate slugs"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Tags"}}</td>
                                <td>{{t "settings.Add tags"}}</td>
                            </tr>
                        </tbody>
                    </table>
                </EmberPopover>
            </div>
        </div>
    </div>

    <div class="gh-radio {{if (eq @selected.name "Editor") "active"}}" {{on "click" (fn this.setRole "Editor")}} data-test-option="Editor">
        <div class="gh-radio-button"></div>
        <div class="gh-radio-content">
            <div class="gh-radio-label">{{t "settings.Editor"}}</div>
            <div class="gh-radio-desc">{{t "settings.Can invite and manage other Authors and Contributors, as well as edit and publish any posts on the site."}}</div>
        </div>
        <div>
            {{!-- Inner container collapses height to the SVG so popover can align correctly --}}
            <div>
                {{svg-jar "info"}}
                <EmberPopover @tooltipClass="popover" @arrowClass="popover-arrow" @side="left">
                    <table>
                        <tbody>
                            <tr>
                                <td class="left">{{t "settings.Settings"}}</td>
                                <td>{{t "settings.View and edit own profile"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Users"}}</td>
                                <td>{{t "settings.Browse users, manage authors and contributors (invite, revoke, delete)"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Posts"}}</td>
                                <td>{{t "settings.Create, publish, edit and delete all posts, generate slugs"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Tags"}}</td>
                                <td>{{t "settings.Edit, add and delete tags"}}</td>
                            </tr>
                        </tbody>
                    </table>
                </EmberPopover>
            </div>
        </div>
    </div>

    <div class="gh-radio {{if (eq @selected.name "Administrator") "active"}}" {{on "click" (fn this.setRole "Administrator")}} data-test-option="Administrator">
        <div class="gh-radio-button"></div>
        <div class="gh-radio-content">
            <div class="gh-radio-label">{{t "settings.Administrator"}}</div>
            <div class="gh-radio-desc">{{t "settings.Trusted staff user who should be able to manage all content and users, as well as site settings and options."}}</div>
        </div>
        <div>
            {{!-- Inner container collapses height to the SVG so popover can align correctly --}}
            <div>
                {{svg-jar "info"}}
                <EmberPopover @tooltipClass="popover" @arrowClass="popover-arrow" @side="left">
                    <table>
                        <tbody>
                            <tr>
                                <td class="left">{{t "settings.Settings"}}</td>
                                <td>{{t "settings.Access all except Stripe settings"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Users"}}</td>
                                <td>{{t "settings.Manage all users (invite, revoke, delete)"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Posts"}}</td>
                                <td>{{t "settings.Create, publish, edit and delete all posts, generate slugs"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Tags"}}</td>
                                <td>{{t "settings.Edit, add and delete tags"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Database"}}</td>
                                <td>{{t "settings.Import, export and delete all content"}}</td>
                            </tr>
                            <tr>
                                <td class="left">{{t "settings.Email"}}</td>
                                <td>{{t "settings.Send newsletters and test emails"}}</td>
                            </tr>
                        </tbody>
                    </table>
                </EmberPopover>
            </div>
        </div>
    </div>


    <div class="gh-content-box pa" hidden={{if this.limitErrorMessage false true}}>
        {{html-safe this.limitErrorMessage}} {{t "settings.To use selected user role, upgrade to a different plan."}}
    </div>
    {{/if}}
</div>